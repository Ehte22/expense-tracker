import{a as W,d as X,g as Z,j as ee}from"./chunk-PASJKOGX.js";import{a as A,b as N,c as I,d as V,e as j,h as G,j as R,m as q,t as $,v as z}from"./chunk-5R37I7NS.js";import{a as Y}from"./chunk-SRJCEGCT.js";import{a as K}from"./chunk-VH5XKJT3.js";import{a as J,b as Q,c as U}from"./chunk-D3FARQ3Q.js";import{Ea as t,Fa as i,Ga as m,Ib as w,Ja as v,La as p,Ma as h,N as c,S as E,T as u,Ua as a,Ub as H,Va as g,X as b,Y as T,_a as F,ab as x,bb as S,f as M,ia as l,ja as y,lb as P,mb as O,nb as k,pb as L,rb as B,ta as C,tb as D,va as d}from"./chunk-JAQO5MGZ.js";var oe=n=>({"is-invalid":n});function re(n,f){if(n&1){let e=v();t(0,"button",32),p("click",function(){b(e);let o=h().$implicit,s=h();return T(s.deleteType(o._id))}),a(1,"Delete"),i()}}function ae(n,f){if(n&1){let e=v();t(0,"tr")(1,"td"),a(2),i(),t(3,"td"),a(4),x(5,"titlecase"),i(),t(6,"td"),a(7),x(8,"date"),i(),t(9,"td")(10,"button",30),p("click",function(){let o=b(e).$implicit,s=h();return T(s.editType(o))}),a(11," Edit "),i(),C(12,re,2,0,"button",31),i()()}if(n&2){let e=f.$implicit,r=f.index;l(2),g(r+1),l(2),g(S(5,4,e.type)),l(3),g(S(8,6,e.createdAt)),l(5),d("ngIf",e._id)}}var ie=(()=>{class n{constructor(e,r,o){this.formBuilder=e,this.store=r,this.toastr=o,this.isDeleteSuccess=new M,this.typeForm=new j({}),this.getAllType=[],this.selectedType=null,this.searchType="",this.currentPage=1,this.limit=5,this.total=0,this.pages=[],this.sortByOrder="desc"}ngOnInit(){this.typeForm=this.formBuilder.group({type:["",N.required]}),this.getTypes(),this.isDeleteSuccess=this.store.select(e=>e.type.isDeleteSuccess),this.isDeleteSuccess.subscribe(e=>{e&&this.getTypes()})}handleChange(e){let r=e.target;r.type==="search"&&(this.searchType=r.value.toLowerCase()),this.currentPage=1,this.getTypes()}sortByDate(e){this.sortByOrder=e,this.getTypes()}onSubmit(){this.typeForm.valid?(this.selectedType?._id?this.store.dispatch(Z({id:this.selectedType._id,types:this.typeForm.value})):this.store.dispatch(W({types:this.typeForm.value})),this.typeForm.reset()):(this.typeForm.markAllAsTouched(),this.toastr.error("Type is required","Error",{timeOut:5e3,closeButton:!0,progressBar:!0}))}getTypes(){this.store.dispatch(X({page:this.currentPage,limit:this.limit,searchType:this.searchType,sortByOrder:this.sortByOrder})),this.store.select(e=>e.type).subscribe(e=>{this.getAllType=e.types,this.total=e.total,this.currentPage=e.page})}deleteType(e){this.store.dispatch(ee({id:e}))}editType(e){this.selectedType=e,this.typeForm.patchValue({type:e.type})}onPageChange(e){this.currentPage=e,this.getTypes()}static{this.\u0275fac=function(r){return new(r||n)(y($),y(H),y(Y))}}static{this.\u0275cmp=E({type:n,selectors:[["app-type-list"]],decls:52,vars:8,consts:[[1,"container"],[1,"mt-5","d-flex","justify-content-between"],[1,"search-container"],["type","search","placeholder","Search",1,"form-control","me-3",3,"input"],[1,"fa-solid","fa-magnifying-glass"],["data-bs-toggle","modal","data-bs-target","#addModal",1,"btn","btn-primary"],[1,"mt-4"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown",1,"dropdown-toggle","dropdown_btn","no-arrow","fs-4"],[1,"fa-solid","fa-sort","text-primary"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"row","my-4"],[1,"col"],[1,"table-responsive","card","shadow"],[1,"table"],[1,"table-dark"],[4,"ngFor","ngForOf"],[3,"pageChange","currentPage","limit","total"],["id","addModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"modal-body"],["type","text","formControlName","type","placeholder","Add Type...",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary","mt-3","w-100"],["data-bs-toggle","modal","data-bs-target","#addModal",1,"btn","btn-outline-warning","btn-sm","mx-2",3,"click"],["class","btn btn-outline-danger btn-sm mx-2",3,"click",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm","mx-2",3,"click"]],template:function(r,o){if(r&1&&(m(0,"app-header"),t(1,"div",0)(2,"div",1)(3,"div",2)(4,"input",3),p("input",function(_){return o.handleChange(_)}),i(),m(5,"i",4),i(),t(6,"div")(7,"button",5),a(8," +Add Type "),i()()(),t(9,"div",6)(10,"h3"),a(11,"Sort By Date"),i(),t(12,"div",7)(13,"button",8),m(14,"i",9),i(),t(15,"ul",10)(16,"li",11),p("click",function(){return o.sortByDate("asc")}),a(17,"Ascending"),i(),t(18,"li",11),p("click",function(){return o.sortByDate("desc")}),a(19,"Descending"),i()()()(),t(20,"div",12)(21,"div",13)(22,"div",14)(23,"table",15)(24,"thead",16)(25,"tr")(26,"th"),a(27,"#"),i(),t(28,"th"),a(29,"Type"),i(),t(30,"th"),a(31,"Date Created"),i(),t(32,"th"),a(33,"Actions"),i()()(),t(34,"tbody"),C(35,ae,13,8,"tr",17),i()(),t(36,"app-pagination",18),p("pageChange",function(_){return o.onPageChange(_)}),i()()()()(),t(37,"div",19)(38,"div",20)(39,"div",21)(40,"div",22)(41,"h5",23),a(42,"Add type"),i(),t(43,"button",24),p("click",function(){return o.typeForm.reset()}),i()(),t(44,"form",25),p("ngSubmit",function(){return o.onSubmit()}),t(45,"div",26)(46,"div"),m(47,"input",27),t(48,"small",28),a(49," *Type is a required field "),i()(),t(50,"button",29),a(51," Add type "),i()()()()()()),r&2){let s;l(35),d("ngForOf",o.getAllType),l(),d("currentPage",o.currentPage)("limit",o.limit)("total",o.total),l(8),d("formGroup",o.typeForm),l(3),d("ngClass",F(6,oe,((s=o.typeForm.get("type"))==null?null:s.touched)&&((s=o.typeForm.get("type"))==null?null:s.errors)))}},dependencies:[P,O,k,G,A,I,V,R,q,J,Q,L,B],styles:[".inp-search[_ngcontent-%COMP%]{max-width:300px}.search-container[_ngcontent-%COMP%]{position:relative;width:fit-content;width:220px}.search-container[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]{padding-right:30px}.search-container[_ngcontent-%COMP%]   .fa-magnifying-glass[_ngcontent-%COMP%]{font-size:20px;position:absolute;right:10px;top:50%;transform:translateY(-50%);color:#aaa}.fs-18[_ngcontent-%COMP%]{font-size:18px}@media screen and (min-width: 620px){.search-container[_ngcontent-%COMP%]{position:relative;width:fit-content;width:400px}}.dropdown_btn[_ngcontent-%COMP%]{background:none!important;border:none}.no-arrow[_ngcontent-%COMP%]:after{display:none}"]})}}return n})();var se=[{path:"",canActivate:[K],component:ie,title:"Type"}],ne=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=u({type:n})}static{this.\u0275inj=c({imports:[w.forChild(se),w]})}}return n})();var Fe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=u({type:n})}static{this.\u0275inj=c({imports:[D,ne,z,U]})}}return n})();export{Fe as ExpenseTypeModule};
